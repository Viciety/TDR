<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #TaulellEscacs{border-collapse: collapse; margin: 0 auto; border:none;}
        td{width: 60px; height: 60px; border:none;}
        .black{background-color: #73934F;}
        .white{background-color: #EFE9D5;}
    </style>
    <title>Taulell d'Escacs</title>
</head>
<body>
    <script>
        
    </script><table id="TaulellEscacs">
    <tbody>
        <script type="text/javascript" src="TaulellOrdinador.js"></script>
        <script type="text/javascript" src="ProgramaLogica/MoveChooser.js"></script>
        <script type="text/javascript" src="ProgramaLogica/MoveFinder.js"></script>
        <script type="text/javascript" src="ProgramaLogica/MoveKnower/Cavall.js"></script>
        <script type="text/javascript" src="ProgramaLogica/MoveKnower/Peó.js"></script>
        <script type="text/javascript" src="ProgramaLogica/MoveKnower/Rei.js"></script>
        <script type="text/javascript" src="ProgramaLogica/MoveKnower/StupidFitxa.js"></script>
        <script type="text/javascript" src="ProgramaLogica/MatchFinalDetector.js"></script>
        <script type="text/javascript" src="DibuixarTaulell.js"></script>
        <script type="text/javascript">
            let inicial = new Taulell(true);

            DibuixarTaulell(inicial);
            
            
            let jugador = BLANC;
            let seguentTaulell= inicial;
            for (let moviments = 0; moviments<100; moviments++){
                seguentTaulell = TriarMoviment(LlistarMoviments(seguentTaulell, jugador), jugador);
                if (seguentTaulell == undefined){
                    throw "seguentTaulell is undefined a l'HTML. Iteració "+(moviments+1);
                }
                DibuixarTaulell(seguentTaulell);
                if (ScanCheckmate(seguentTaulell, jugador) == true){
                    document.write("Ha guanyat el jugador "+!jugador+"!");
                    break;
                }
                jugador = (jugador == BLANC) ? NEGRE : BLANC;
            }

        </script>
    </tbody>
</table>
</body>
</html>